{{ define "main" }}
<main class="main list" role="main">
	{{- with .Title }}
	<header class="main__header">
		<h1 class="main__title">{{ . }}</h1>
	</header>
	{{- end }}
	{{- with .Content }}
	<div class="content main__content clearfix">
		{{ . }}
	</div>
	{{- end }}
	
	<!-- Busca Mobile (só aparece em telas pequenas) -->
	<div class="mobile-search-area">
		<form class="mobile-search-form" role="search" method="get" action="https://google.com/search">
			<input 
				class="mobile-search-input" 
				type="search" 
				placeholder="Buscar conteúdo..." 
				name="q" 
				aria-label="Buscar no site"
				autocomplete="off"
			>
			<input type="hidden" name="sitesearch" value="{{ .Site.BaseURL }}">
			<button class="mobile-search-button" type="submit" aria-label="Executar busca">
				<svg class="mobile-search-icon" viewBox="0 0 24 24" aria-hidden="true">
					<path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
				</svg>
				<span class="sr-only">Buscar</span>
			</button>
		</form>
	</div>
	
	<!-- Posts -->
	{{- range .Paginator.Pages }}
		{{- .Render "summary" }}
	{{- end }}
</main>

<!-- Paginação Original -->
{{- if or (.Paginator.HasPrev) (.Paginator.HasNext) }}
<nav class="pagination" role="navigation">
	{{- if .Paginator.HasPrev }}
	<a class="pagination__item pagination__item--prev btn" href="{{ .Paginator.Prev.URL }}">«</a>
	{{- end }}
	<span class="pagination__item pagination__item--current">{{ .Paginator.PageNumber }}/{{ .Paginator.TotalPages }}</span>
	{{- if .Paginator.HasNext }}
	<a class="pagination__item pagination__item--next btn" href="{{ .Paginator.Next.URL }}">»</a>
	{{- end }}
</nav>
{{- end }}

<!-- Estilos para Busca Mobile -->
<style>
/* Busca Mobile - Escondida por padrão */
.mobile-search-area {
	display: none;
}

/* Screen reader only text */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

/* Layout Mobile Otimizado */
@media screen and (max-width: 767px) {
	
	/* ===== MOSTRAR BUSCA MOBILE ===== */
	.mobile-search-area {
		display: block !important;
		background: #f8f9fa;
		padding: 1rem 15px;
		border-bottom: 1px solid #e9ecef;
		margin-bottom: 1.5rem;
	}
	
	.mobile-search-form {
		display: flex;
		max-width: 100%;
		background: white;
		border-radius: 8px;
		overflow: hidden;
		box-shadow: 0 2px 4px rgba(0,0,0,0.1);
	}
	
	.mobile-search-input {
		flex: 1;
		padding: 12px 16px;
		border: none;
		font-size: 16px; /* Evita zoom no iOS */
		outline: none;
		font-family: inherit;
	}
	
	.mobile-search-input::placeholder {
		color: #6c757d;
	}
	
	.mobile-search-button {
		background: #2c5aa0;
		color: white;
		border: none;
		padding: 12px 16px;
		cursor: pointer;
		transition: background 0.3s ease;
		display: flex;
		align-items: center;
		justify-content: center;
	}
	
	.mobile-search-button:hover {
		background: #1e3d6f;
	}
	
	.mobile-search-icon {
		width: 18px;
		height: 18px;
		fill: currentColor;
	}
	
	/* ===== LAYOUT PRINCIPAL MOBILE ===== */
	
	/* Main content com padding otimizado */
	.main.list {
		padding: 0 15px !important;
	}
	
	/* Posts com melhor espaçamento */
	.list__item.post {
		margin-bottom: 2rem !important;
		padding: 1.5rem !important;
		background: #fff;
		border-radius: 8px;
		box-shadow: 0 2px 4px rgba(0,0,0,0.1);
	}
	
	/* Títulos mais legíveis */
	.list__title.post__title {
		font-size: 1.25rem !important;
		line-height: 1.4 !important;
		margin-bottom: 1rem !important;
	}
	
	.list__title.post__title a {
		color: #333 !important;
		text-decoration: none !important;
	}
	
	.list__title.post__title a:hover {
		color: #2c5aa0 !important;
	}
	
	/* Meta informações compactas */
	.post__meta {
		margin-bottom: 1rem !important;
		font-size: 0.9rem !important;
		color: #666 !important;
	}
	
	/* Conteúdo com melhor legibilidade */
	.list__excerpt.post__content {
		font-size: 0.95rem !important;
		line-height: 1.6 !important;
		margin-bottom: 1rem !important;
		color: #444 !important;
	}
	
	/* Botão "Leia mais" destacado */
	.list__footer-readmore {
		display: inline-block !important;
		background: #2c5aa0 !important;
		color: white !important;
		padding: 10px 18px !important;
		border-radius: 6px !important;
		text-decoration: none !important;
		font-size: 0.9rem !important;
		font-weight: 500 !important;
		transition: all 0.3s ease !important;
	}
	
	.list__footer-readmore:hover {
		background: #1e3d6f !important;
		transform: translateY(-1px) !important;
	}
	
	/* ===== PAGINAÇÃO MOBILE ===== */
	
	.pagination {
		margin: 2rem 0 !important;
		text-align: center !important;
	}
	
	.pagination__item {
		display: inline-block !important;
		margin: 0 8px !important;
		padding: 10px 16px !important;
		font-size: 1rem !important;
	}
	
	.pagination__item--current {
		background: #2c5aa0 !important;
		color: white !important;
		border-radius: 6px !important;
	}
	
	.pagination__item--prev,
	.pagination__item--next {
		background: #f8f9fa !important;
		border: 1px solid #dee2e6 !important;
		border-radius: 6px !important;
		text-decoration: none !important;
		color: #2c5aa0 !important;
	}
	
	.pagination__item--prev:hover,
	.pagination__item--next:hover {
		background: #e9ecef !important;
	}
	
}

/* ===== ACESSIBILIDADE ===== */

/* Focus visível */
.mobile-search-input:focus,
.mobile-search-button:focus,
.list__footer-readmore:focus {
	outline: 2px solid #2c5aa0 !important;
	outline-offset: 2px !important;
}

/* Smooth scroll */
@media screen and (max-width: 767px) {
	html {
		scroll-behavior: smooth;
	}
}
</style>
{{ end }}
